
<div id="content">
  <div class="page-section top-section">
    <div class="phase-banner">
      <p>
        <strong class="phase-tag">BETA</strong>
        <span>This is a design and user research prototype. <a href="https://www.gov.uk/service-manual/phases">Find out more about service design phases</a>.</span>
      </p>

    </div>
    <div class="header-context" id="global-breadcrumb">
      <nav role="navigation">
        <ol class="group">
          <li><a href="#"></a></li>
          <li><a href="#"></a></li>
        </ol>
      </nav>
    </div>


    <div class="inner-block">
      <div class="grid-row">
        <div class="column-half property_details">
          <h1 class="property-details-title-prefix">Property details</h1>
          <% @property[:address].each do | address_line| %>
            <h2 class="address"><%= address_line %></h2>
          <% end %>

            <dl class="definition-tabular">
                <dt>Property type: </dt>
                <dd><%= @property[:property_type] %></dd>

                <dt>Price paid:</dt>
                <dd><%= @property[:price_paid_info] %></dd>
            </dl>

        </div>

        <div class="column-half map-placeholder">
          <% if @property[:coordinates] %>
            <% latitude = @property[:coordinates][:lat]
               longitude = @property[:coordinates][:lon]
            %>
            <div id="map"></div>
          <% else %>
            <h3 class="map-unavailable">No map available</h3>
          <% end %>
        </div>

      </div>
    </div>
  </div>
  <!-- <div class="page-section mid-section">

  </div> -->
  <div class="page-section bottom-section">
      <p>The Land Registry may hold more detailed information on this property, such as who owns it. Access the Land Registry service
        <a href="https://www.gov.uk/search-property-information-land-registry">
          here
        </a>
      </p>
  </div>
</div>
<script src="http://openlayers.org/en/v3.2.1/build/ol.js" type="text/javascript"></script>

<script type="text/javascript">
var map = new ol.Map({
  layers: [
    new ol.layer.Tile({
      source: new ol.source.OSM()
    })
  ],
  target: 'map',
  view: new ol.View({
    center: ol.proj.transform([<%=longitude%>, <%=latitude%>], 'EPSG:4326', 'EPSG:3857'),
    zoom: 14
  })
});
</script>
